include "persistence.conf"

akka {
  loglevel = info
  log-dead-letters = off
  log-dead-letters-during-shutdown = off
}

cassandra-journal {
  contact-points = ["localhost"]
  contact-points = [${?CASSANDRA_CLUSTER_HOSTS}]
  keyspace = "hmda2_journal"
  keyspace = ${?CASSANDRA_JOURNAL_KEYSPACE}
  table = "journal"
  authentication.username = ""
  authentication.username = ${?CASSANDRA_CLUSTER_USERNAME}
  authentication.password = ""
  authentication.password = ${?CASSANDRA_CLUSTER_PASSWORD}
  events-by-tag.max-message-batch-size = 30
  events-by-tag.max-message-batch-size = ${?TAG_BATCH_SIZE}
  events-by-tag.flush-interval = 150ms
  events-by-tag.flush-interval = ${?TAG_FLUSH_INTERVAL}
}

cassandra-query-journal {
  gap-free-sequence-numbers = off
}

cassandra-snapshot-store {
  contact-points = ["localhost"]
  contact-points = [${?CASSANDRA_CLUSTER_HOSTS}]
  keyspace = "hmda2_snapshot"
  keyspace = ${?CASSANDRA_SNAPSHOT_KEYSPACE}
  table = "snapshot"
  authentication.username = ""
  authentication.username = ${?CASSANDRA_CLUSTER_USERNAME}
  authentication.password = ""
  authentication.password = ${?CASSANDRA_CLUSTER_PASSWORD}
}

kafka {
  hosts = "localhost:9092"
  hosts = ${?KAFKA_CLUSTER_HOSTS}
  idle-timeout = 5
  idle-timeout = ${?KAFKA_IDLE_TIMEOUT}
  ssl {
    truststore.location=""
    truststore.location = ${?KAFKA_SSL_LOCATION}
    truststore.password=""
    truststore.password = ${?KAFKA_SSL_PASSWORD}
    endpoint=""
    endpoint = ${?KAFKA_SSL_ENDPOINT}
  }
}

hmda {
  analytics {
    parallelism = 1
    tsDeletion = true
    tsDeletion = ${?HMDA-TS-DELETE}
    larDeletion = true
    larDeletion = ${?HMDA-LAR-DELETE}
    historyInsertion = true
    historyInsertion = ${?HMDA-HISTORY-INSERT}
    yearsAvailable = "2018,2019,2020,2021,2022,2023,2024"
     2024 {
      tsTableName = "transmittalsheet2024_regen_2024"
       tsTableNameQ1 = "ts2024_q1_regen_2024"
       tsTableNameQ2 = "ts2024_q2_regen_2024"
       tsTableNameQ3 = "ts2024_q3_regen_2024"
       larTableName = "loanapplicationregister2024_regen_2024"
       larTableNameQ1 = "lar2024_q1_regen_2024"
       larTableNameQ2 = "lar2024_q2_regen_2024"
       larTableNameQ3 = "lar2024_q3_regen_2024"
     }
    2023 {
      tsTableName = "transmittalsheet2023_regen_2024"
       tsTableNameQ1 = "ts2023_q1_regen_2024"
       tsTableNameQ2 = "ts2023_q2_regen_2024"
       tsTableNameQ3 = "ts2023_q3_regen_2024"
       larTableName = "loanapplicationregister2023_regen_2024"
       larTableNameQ1 = "lar2023_q1_regen_2024"
       larTableNameQ2 = "lar2023_q2_regen_2024"
       larTableNameQ3 = "lar2023_q3_regen_2024"
     }
    2022 {
      tsTableName = "transmittalsheet2022_regen_2024"
       larTableName = "loanapplicationregister2022_regen_2024"
       tsTableNameQ1 = "ts2022_q1_regen_2024"
       tsTableNameQ2 = "ts2022_q2_regen_2024"
       tsTableNameQ3 = "ts2022_q3_regen_2024"
       larTableNameQ1 = "lar2022_q1_regen_2024"
       larTableNameQ2 = "lar2022_q2_regen_2024"
       larTableNameQ3 = "lar2022_q3_regen_2024"
     }
    2021 {
      tsTableName = "transmittalsheet2021_regen_2024"
       tsTableNameQ1 = "ts2021_q1_regen_2024"
       tsTableNameQ2 = "ts2021_q2_regen_2024"
       tsTableNameQ3 = "ts2021_q3_regen_2024"
       larTableName = "loanapplicationregister2021_regen_2024"
       larTableNameQ1 = "lar2021_q1_regen_2024"
       larTableNameQ2 = "lar2021_q2_regen_2024"
       larTableNameQ3 = "lar2021_q3_regen_2024"
     }
    2020 {
      tsTableName = "transmittalsheet2020_regen_2024"
       tsTableNameQ1 = "ts2020_q1_regen_2024"
       tsTableNameQ2 = "ts2020_q2_regen_2024"
       tsTableNameQ3 = "ts2020_q3_regen_2024"
       larTableName = "loanapplicationregister2020_regen_2024"
       larTableNameQ1 = "lar2020_q1_regen_2024"
       larTableNameQ2 = "lar2020_q2_regen_2024"
       larTableNameQ3 = "lar2020_q3_regen_2024"
       historyTableName = "submission_history_regen_2024"
     }
    2019 {
      tsTableName = "transmittalsheet2019_regen_2024"
       larTableName = "loanapplicationregister2019_regen_2024"
       historyTableName = "submission_history"
     }
    2018 {
      tsTableName = "transmittalsheet2018_regen_2024"
       larTableName = "loanapplicationregister2018_regen_2024"
       historyTableName = "submission_history"
     }
  }
}

filter {
  bank-filter-list=""
  bank-filter-list=${?BANK_FILTER_LIST}
}